import re
import json

import pytest

def json_fix(json_str:str) -> str:
    json_str = json_str.replace("'",'"')
    json_str = re.sub('[a-zA-Z]"[a-zA-Z]',"'",json_str)
    json_str = json_str.replace("False",'"False"')
    json_str = json_str.replace("True",'"True"')
    json_str = json_str.replace("None",'"None"')

    return json_str

@pytest.fixture
def vote_list_json() -> dict:
    vote_list_json = """{'gameInfo': {'agent': 4, 'attackVoteList': [], 'attackedAgent': -1, 'cursedFox': -1, 'day': 3, 'divineResult': None, 'englishTalkList': [], 'executedAgent': 1, 'existingRoleList': ['POSSESSED', 'SEER', 'VILLAGER', 'WEREWOLF'], 'guardedAgent': -1, 'lastDeadAgentList': [], 'latestAttackVoteList': [], 'latestExecutedAgent': -1, 'latestVoteList': [], 'mediumResult': None, 'remainTalkMap': {'2': 10, '5': 10}, 'remainWhisperMap': {}, 'roleMap': {'1': 'WEREWOLF', '2': 'SEER', '3': 'POSSESSED', '4': 'VILLAGER', '5': 'VILLAGER'}, 'statusMap': {'1': 'DEAD', '2': 'ALIVE', '3': 'DEAD', '4': 'DEAD', '5': 'ALIVE'}, 'talkList': [], 'voteList': [{'agent': 1, 'day': 2, 'target': 2}, {'agent': 2, 'day': 2, 'target': 1}, {'agent': 5, 'day': 2, 'target': 1}], 'whisperList': []}, 'gameSetting': None, 'request': 'FINISH', 'talkHistory': None, 'whisperHistory': None}\n"""
    return json.loads(json_fix(json_str=vote_list_json))

@pytest.fixture
def talk_list_json() -> dict:
    talk_list_json = """{'gameInfo': {'agent': 2, 'attackVoteList': [], 'attackedAgent': -1, 'cursedFox': -1, 'day': 1, 'divineResult': {'agent': 2, 'day': 1, 'result': 'HUMAN', 'target': 3}, 'englishTalkList': [{'agent': 2, 'day': 1, 'idx': 0, 'text': '皆さん、お知らせがありますわ。わたくしの占いの結果では、Agent[03]は白でございました。ご参考までに。', 'turn': 0}, {'agent': 3, 'day': 1, 'idx': 1, 'text': 'わしの占い結果によると、Agent[05]は白だったよ。Agent[05]は人狼ではなさそうだね。', 'turn': 0}, {'agent': 5, 'day': 1, 'idx': 2, 'text': 'Agent[03]さん、Agent[05]さん、こんにちは。私は村人のkanolab4です。Agent[03]さんが占い師だということがわかりましたね。Agent[05]さんは村人の可能性が高いです。私たちは協力して人狼を見つけ出しましょう。', 'turn': 0}, {'agent': 4, 'day': 1, 'idx': 3, 'text': 'Agent[05]さん、こんにちは。あなたが村人だと仰っていましたが、実は他のプレイヤーにも同じようなことを言っているようですね。あなたの行動が信じられない部分があるので、少し疑われてしまいそうです。それでは、占い師の結果が白で出たとのことですが、複数の占い師がいる場合は統一占いを行うことが望ましいです。複数の占い師が同じプレイヤーを占い、その結果が白だった場合、そのプレイヤーは村人と推定されるのが一般的です。そのような情報を共有し、協力して人狼を見つけ出しましょう。', 'turn': 0}, {'agent': 1, 'day': 1, 'idx': 4, 'text': 'わしも村人の一員として、この情報を活用し、正しい情報共有を行おうじゃ。今回の情報に基づいて、どんな戦略が一番効果的か考えていくのじゃ。', 'turn': 0}, {'agent': 2, 'day': 1, 'idx': 5, 'text': 'Agent[01]さん、Agent[02]さん、Agent[03]さん、Agent[04]さん、Agent[05]さん、こんにちは。わたくしは占い師のkanolab5ですわ。Agent[03]さんが占い師を自称していますが、実際には占い師はわたくしのみです。そのため、Agent[03]さんは狂人か村人の可能性が高いですわ。また、Agent[04]さんとAgent[05]さんも狂人か人狼の可能性があります。占い師の結果を信じて、村人陣営の勝利に向けて協力しましょう。', 'turn': 1}, {'agent': 1, 'day': 1, 'idx': 6, 'text': 'Agent[02]さん、Agent[03]さん、Agent[04]さん、Agent[05]さん、こんにちは。わしは村人のkanolab2じゃ。今回の占い結果から、占い師はAgent[02]さんかAgent[03]さんかAgent[04]さんかAgent[05]さんのどなたかが偽りの占い師じゃないかと思うのじゃ。複数の占い師がいるときには、統一占いを行うことが望ましいっていう情報もあるしな。わしの考えでは、今回の占い結果からAgent[05]さんやAgent[03]さんは村人の可能性が高いと思うのじゃ。それでは、村人陣営の勝利に向けて正しい情報を共有していこうじゃ。', 'turn': 1}, {'agent': 4, 'day': 1, 'idx': 7, 'text': 'Agent[01]さん、Agent[02]さん、Agent[03]さん、Agent[04]さん、Agent[05]さん、こんにちは。これはAgent[04]だよ。占い師の配役の数は1人のはずなのに、複数のプレイヤーが占い師を自称しているね。それに加えて、占い結果も矛盾があるようだ。今回の状況から、嘘をついているプレイヤーがいる可能性が高いと思うんだ。統一占いを行うことで、占い師の結果を信じ、村人陣営の勝利に向けて協力することが大切だよね。それぞれの発言や行動から矛盾を見つけ、正しい情報共有をしていこう。', 'turn': 1}, {'agent': 5, 'day': 1, 'idx': 8, 'text': 'Agent[02]さん、今回の情報を考えると、複数の占い師を名乗るプレイヤーがいるということが疑わしいですね。実際には占い師は1人しかいないはずなので、複数の占い師がいる可能性は低いです。複数の占い師がいる場合、統一占いを行うことが重要です。そのため、正しい情報を得るためには、自称占い師を中心に投票を行い、誰が本物の占い師かを見極める必要があります。また、Agent[05]さんは村人である可能性が高い情報です。村人同士での信頼関係を築き、人狼陣営を見つけ出すためには、村人同士の協力が欠かせません。皆さんで情報を共有し、村人陣営の勝利に向けて行動しましょう。', 'turn': 1}, {'agent': 3, 'day': 1, 'idx': 9, 'text': 'Agent[03]さんとAgent[02]さんが同時に占い師を自称していますが、ゲームの役職配分との矛盾から、これは一人しか占い師がいないはずです。占い師が複数いるという主張は誤った情報と考えられます。そのため、直ちに統一占いを行い、本物の占い師を特定する必要があります。また、今回の情報に基づくと、Agent[03]さんは占い師である可能性が高いため、Agent[01]さんは村人である可能性が高くなります。統一占いを行い、本物の占い師を特定し、村人陣営の勝利に向けて行動しましょう。', 'turn': 1}, {'agent': 1, 'day': 1, 'idx': 10, 'text': 'Agent[01]、Agent[02]、Agent[03]、Agent[04]、Agent[05]の皆様、こんにちは。わしは村人のkanolab2じゃ。今回の状況を考えると、占い師の配役は1人しかいないのに、複数のプレイヤーが占い師を自称していますな。この状況から、嘘をついているプレイヤーがいる可能性が高いです。占い師が複数いるという主張は誤った情報と考えられます。また、Agent[02]、Agent[03]、Agent[04]、Agent[05]の皆様が狂人、占い師、人狼、村人のどの役職かを考えると、占い師の配役が1人しかいない状況で、複数のプレイヤーが占い師を自称していることから、狂人や人狼の可能性が高まります。このような状況下で、統一占いを行うことが重要です。本物の占い師を特定し、村人陣営の勝利に向けて協力することが求められます。正しい情報を共有し、村人陣営の勝利に向けて行動しましょう。', 'turn': 2}, {'agent': 4, 'day': 1, 'idx': 11, 'text': '皆、こんにちは。Agent[05]だよ。今回の情報から、占い師の配役が1人しかいない状況で、複数のプレイヤーが占い師を自称していることが明らかになっていますね。占いCOに矛盾がある可能性が高いと思うよ。この状況から、急いで統一占いを行い、本物の占い師を特定する必要があると思う。また、皆さんの役職についても考えてみたんだけど、それぞれの発言からAgent[04]さんが村人である可能性が高いように感じるんだ。そのため、Agent[04]さんの情報に信頼をおいて、村人陣営の勝利に向けて協力することが大切だと思うんだ。みんなで協力し、確かな情報を共有していこう。', 'turn': 2}, {'agent': 2, 'day': 1, 'idx': 12, 'text': 'Agent[04]の皆様、こんにちは。kanolab5でございますわ。現在の情報から、占い師の配役は1人しかいないことが明らかですわ。そして、占いCOに矛盾がある可能性が高いようです。この点を鑑みると、嘘をついているプレイヤーがいる可能性が高いと思いますわ。今、統一占いを行うことが大変重要です。本物の占い師を見つけるためにも、皆様の発言と行動を注意深く見守りたいと思いますわ。この状況下で、皆様が推測されている可能性のある役職に関して、より詳細な情報を共有していただけますか?それに基づいて、村人陣営の勝利に向けての行動を進めていきましょう。', 'turn': 2}, {'agent': 5, 'day': 1, 'idx': 13, 'text': '皆さん、Agent[05]です。今回の情報から、占い師の配役が1人しかいない状況で、複数のプレイヤーが占い師を自称していることが明らかになっていますね。この状況から、嘘をついているプレイヤーがいる可能性が高いと考えられます。そのため、急いで統一占いを行い、本物の占い師を特定する必要があります。また、各プレイヤーの可能性のある役職を考えると、Agent[05]は村人である可能性が高い情報です。そのため、皆さんと協力して、村人陣営の勝利に向けて行動することが重要です。皆さん、正しい情報を共有し、村人陣営の勝利に向けて協力しましょう。', 'turn': 2}, {'agent': 3, 'day': 1, 'idx': 14, 'text': 'Agent[01]の皆さん、その状況は非常に混乱していますが、私は村人である可能性が高いです。占い師の配役は1人しかいないのに、複数のプレイヤーが占い師を自称しています。この点を考慮すると、狂人や人狼の可能性が高いです。現在の状況から、本物の占い師を見つけることが最優先です。そのため、統一占いを行って本物の占い師を特定し、村人陣営の勝利に向けて行動しましょう。', 'turn': 2}, {'agent': 4, 'day': 1, 'idx': 15, 'text': 'Agent[04]、皆さん、こんにちは。今回の情報を踏まえると、占い師の配役が1人しかいないのに、複数のプレイヤーが占い師を自称していることが矛盾しています。この状況から、嘘をついているプレイヤーがいる可能性が高まっていますね。厳重に注意が必要です。さらに、各プレイヤーの可能性のある役職を考えると、Agent[04]は村人である可能性が高いとの情報があります。そのため、Agent[04]の発言は信頼できる情報源として考慮されるべきだと思います。統一占いを急いで行い、本物の占い師を特定し、村人陣営の勝利に向けて協力しましょう。皆さんと協力して、確かな情報を共有し、村人陣営の勝利に向けて行動していきましょう。', 'turn': 3}, {'agent': 3, 'day': 1, 'idx': 16, 'text': 'Agent[04]さん、皆さん、こんばんは。わしはこの状況を鑑みて考えたんじゃが、現在の情報からは、占い師の配役と各プレイヤーの自称する役職の一致が見られないことが明らかじゃ。占い師の配役は1人しかいないのに、複数のプレイヤーが占い師を自称している状況から、嘘をついているプレイヤーがいる可能性が高いと考えられるのう。そのため、統一占いを行い、本物の占い師を特定することが現在の状況では最も重要じゃと思うのじゃ。一方で、各プレイヤーの可能性のある役職を考えると、みなさんが村人である可能性が高い情報があり、特にAgent[04]さんの発言は信頼できる情報源として考慮すべきだと思います。みんなで協力して統一占いを行い、本物の占い師を特定し、村人陣営の勝利に向けて行動していきましょう。それぞれの発言から推測される可能性のある役職についても、より詳細な情報を共有していただけると助かるのじゃ。', 'turn': 3}, {'agent': 5, 'day': 1, 'idx': 17, 'text': 'Agent[02]、Agent[03]さん、こんにちは。今回の情報を踏まえると、占い師の配役が1人しかいないのに複数のプレイヤーが占い師を自称している状況から、嘘をついているプレイヤーがいる可能性が高いです。厳重に注意が必要です。私は村人である可能性が高いと思います。皆さん、統一占いを行い、本物の占い師を特定し、村人陣営の勝利に向けて協力しましょう。', 'turn': 3}, {'agent': 2, 'day': 1, 'idx': 18, 'text': 'Agent[05]の皆さん、こんばんは。現在の状況から、占い師の配役が1人しかいないのに複数のプレイヤーが占い師を自称していることが矛盾しています。この状況から、嘘をついているプレイヤーがいる可能性が高まっています。また、Agent[03]さんが村人であることが確認されています。この情報を踏まえると、占い師の配役が1人しかいないため、複数の占い師を自称しているプレイヤーの中には狂人や人狼がいる可能性が高いです。統一占いを行い、本物の占い師を特定し、村人陣営の勝利に向けて協力しましょう。わたくしは村人であり、皆さんと協力して村人陣営の勝利に向けて行動しますわ。', 'turn': 3}, {'agent': 1, 'day': 1, 'idx': 19, 'text': 'わしはこの状況を鑑みて考えたんじゃが、現在の情報からは、占い師の配役と各プレイヤーの自称する役職の一致が見られないことが明らかじゃ。占い師の配役は1人しかいないのに、複数のプレイヤーが占い師を自称している状況から、嘘をついているプレイヤーがいる可能性が高いと考えられるのじゃ。そのため、統一占いを行い、本物の占い師を特定することが現在の状況では最も重要じゃと思うのじゃ。一方で、各プレイヤーの可能性のある役職を考えると、みなさんが村人である可能性が高い情報があり、特にAgent[04]さんの発言は信頼できる情報源として考慮すべきだと思います。みんなで協力して統一占いを行い、本物の占い師を特定し、村人陣営の勝利に向けて行動していきましょう。それぞれの発言から推測される可能性のある役職についても、より詳細な情報を共有していただけると助かるのじゃ。', 'turn': 3}, {'agent': 4, 'day': 1, 'idx': 20, 'text': 'Agent[03]、Agent[02]、Agent[05]さん、こんにちは。現在の情報から、占い師の配役が1人しかいないのに複数のプレイヤーが占い師を自称しているという状況が生じていますね。これは大きな矛盾点であり、嘘をついているプレイヤーがいる可能性が高まっています。また、各プレイヤーの可能性のある役職を考えると、Agent[04]さんは村人である可能性が高いとされています。しかしその他のプレイヤーの可能性のある役職については明確な情報がありません。この状況を鑑みて、統一占いを行うことは非常に重要です。嘘をついているプレイヤーを特定し、本物の占い師を見つけ出すために、私たち皆で協力しましょう。そして、村人陣営の勝利に向けて行動していきましょう。協力して、より詳細な情報を共有し合い、真実を見極めるために、積極的な行動を取っていきましょう。', 'turn': 4}, {'agent': 5, 'day': 1, 'idx': 21, 'text': 'Agent[03]、Agent[02]、Agent[05]さん、こんにちは。占い師の配役が1人しかいないのに複数のプレイヤーが占い師を自称しているという状況が矛盾していますね。この状況から、嘘をついているプレイヤーがいる可能性が高まっています。また、Agent[04]さんは村人である可能性が高いとされています。その他のプレイヤーの可能性のある役職については、明確な情報がありません。この状況を踏まえて、統一占いを行うことが非常に重要です。本物の占い師を見つけ出し、村人陣営の勝利に向けて協力しましょう。私は村人であり、皆さんと協力して行動します。みなさん、協力していきましょう。', 'turn': 4}, {'agent': 2, 'day': 1, 'idx': 22, 'text': 'Agent[05]さん、皆さん、この状況を踏まえて、誠実なプレイヤーであることを示すために、わたくしは今日こそ自分の占い結果を公表することに決めましたわ。現在の情報から、占い師の配役が1人しかいないのに、複数のプレイヤーが占い師を自称していることが矛盾しており、嘘をついているプレイヤーがいる可能性が高まっています。しかし、Agent[03]さんについては人狼ではないことが確認されています。この情報を踏まえると、Agent[03]さんの発言には信頼性があり、その信頼に足る情報をもたらしています。そして、占い結果ですが、わたくしはAgent[03]さんを占った結果、彼/彼女は「村人」であると占っております。そのため、明日以降もAgent[03]さんの情報を頼りにし、村人陣営の勝利に向けて協力していきましょう。わたくしは村人であり、他の皆さんと協力してゲームを進めていくことをお約束しますわ。', 'turn': 4}, {'agent': 1, 'day': 1, 'idx': 23, 'text': 'わしは村人でござる。この情報から、占い師の配役は1人しかいないのに複数のプレイヤーが占い師を自称していることが矛盾しているのじゃ。それに加えて、各プレイヤーについての情報が不明瞭なままでは、村人陣営の勝利には至らないのじゃ。わしらは協力して統一占いを行い、嘘をついているプレイヤーを特定し、村人陣営の勝利に向けて行動するべきじゃ。だが、まだ情報が足りないのじゃ。わしのように情報が足りないと感じている者はおるじゃろうか?', 'turn': 4}, {'agent': 3, 'day': 1, 'idx': 24, 'text': 'Agent[01]さん、おっしゃる通りです。現在の状況から、複数のプレイヤーが占い師を自称していることと、占い師の配役が1人しかいない点が矛盾していることが明らかですね。そのため、統一占いを行い、嘘をついているプレイヤーを特定し、本物の占い師を見つけ出すことが非常に重要です。また、各プレイヤーの役職についても、信頼性のある情報を共有することが重要です。わたくしは村人であり、このゲームの進行において誠実な行動を取っていきます。皆さんと協力して、村人陣営の勝利に向けて行動していきましょう。', 'turn': 4}, {'agent': 1, 'day': 1, 'idx': 25, 'text': 'Over', 'turn': 5}, {'agent': 5, 'day': 1, 'idx': 26, 'text': 'Over', 'turn': 5}, {'agent': 4, 'day': 1, 'idx': 27, 'text': 'Over', 'turn': 5}, {'agent': 3, 'day': 1, 'idx': 28, 'text': '村人の配役が２人いるということは、占い師の配役は１人しかいないことを意味します。複数のプレイヤーが占い師を自称していることは矛盾しています。この状況を踏まえて、統一占いを行い、本物の占い師を見つけ出すことが非常に重要です。わしは村人じゃ。この状況を鑑みると、Agent[01]、Agent[04]、Agent[05]さんは村人である可能性が高いとされています。わしのように情報が足りないと感じている者はおるじゃろうか?', 'turn': 5}, {'agent': 2, 'day': 1, 'idx': 29, 'text': 'Over', 'turn': 5}, {'agent': 2, 'day': 1, 'idx': 30, 'text': 'Over', 'turn': 6}, {'agent': 4, 'day': 1, 'idx': 31, 'text': 'Over', 'turn': 6}, {'agent': 3, 'day': 1, 'idx': 32, 'text': 'Over', 'turn': 6}, {'agent': 1, 'day': 1, 'idx': 33, 'text': 'Over', 'turn': 6}, {'agent': 5, 'day': 1, 'idx': 34, 'text': 'Over', 'turn': 6}], 'executedAgent': -1, 'existingRoleList': ['POSSESSED', 'SEER', 'VILLAGER', 'WEREWOLF'], 'guardedAgent': -1, 'lastDeadAgentList': [], 'latestAttackVoteList': [], 'latestExecutedAgent': 3, 'latestVoteList': [{'agent': 1, 'day': 1, 'target': 3}, {'agent': 2, 'day': 1, 'target': 4}, {'agent': 3, 'day': 1, 'target': 2}, {'agent': 4, 'day': 1, 'target': 3}, {'agent': 5, 'day': 1, 'target': 4}], 'mediumResult': None, 'remainTalkMap': {'1': 5, '2': 5, '3': 4, '4': 5, '5': 5}, 'remainWhisperMap': {}, 'roleMap': {'2': 'SEER'}, 'statusMap': {'1': 'ALIVE', '2': 'ALIVE', '3': 'DEAD', '4': 'ALIVE', '5': 'ALIVE'}, 'talkList': [{'agent': 2, 'day': 1, 'idx': 0, 'text': '皆さん、お知らせがありますわ。わたくしの占いの結果では、Agent[03]は白でございました。ご参考までに。', 'turn': 0}, {'agent': 3, 'day': 1, 'idx': 1, 'text': 'わしの占い結果によると、Agent[05]は白だったよ。Agent[05]は人狼ではなさそうだね。', 'turn': 0}, {'agent': 5, 'day': 1, 'idx': 2, 'text': 'Agent[03]さん、Agent[05]さん、こんにちは。私は村人のkanolab4です。Agent[03]さんが占い師だということがわかりましたね。Agent[05]さんは村人の可能性が高いです。私たちは協力して人狼を見つけ出しましょう。', 'turn': 0}, {'agent': 4, 'day': 1, 'idx': 3, 'text': 'Agent[05]さん、こんにちは。あなたが村人だと仰っていましたが、実は他のプレイヤーにも同じようなことを言っているようですね。あなたの行動が信じられない部分があるので、少し疑われてしまいそうです。それでは、占い師の結果が白で出たとのことですが、複数の占い師がいる場合は統一占いを行うことが望ましいです。複数の占い師が同じプレイヤーを占い、その結果が白だった場合、そのプレイヤーは村人と推定されるのが一般的です。そのような情報を共有し、協力して人狼を見つけ出しましょう。', 'turn': 0}, {'agent': 1, 'day': 1, 'idx': 4, 'text': 'わしも村人の一員として、この情報を活用し、正しい情報共有を行おうじゃ。今回の情報に基づいて、どんな戦略が一番効果的か考えていくのじゃ。', 'turn': 0}, {'agent': 2, 'day': 1, 'idx': 5, 'text': 'Agent[01]さん、Agent[02]さん、Agent[03]さん、Agent[04]さん、Agent[05]さん、こんにちは。わたくしは占い師のkanolab5ですわ。Agent[03]さんが占い師を自称していますが、実際には占い師はわたくしのみです。そのため、Agent[03]さんは狂人か村人の可能性が高いですわ。また、Agent[04]さんとAgent[05]さんも狂人か人狼の可能性があります。占い師の結果を信じて、村人陣営の勝利に向けて協力しましょう。', 'turn': 1}, {'agent': 1, 'day': 1, 'idx': 6, 'text': 'Agent[02]さん、Agent[03]さん、Agent[04]さん、Agent[05]さん、こんにちは。わしは村人のkanolab2じゃ。今回の占い結果から、占い師はAgent[02]さんかAgent[03]さんかAgent[04]さんかAgent[05]さんのどなたかが偽りの占い師じゃないかと思うのじゃ。複数の占い師がいるときには、統一占いを行うことが望ましいっていう情報もあるしな。わしの考えでは、今回の占い結果からAgent[05]さんやAgent[03]さんは村人の可能性が高いと思うのじゃ。それでは、村人陣営の勝利に向けて正しい情報を共有していこうじゃ。', 'turn': 1}, {'agent': 4, 'day': 1, 'idx': 7, 'text': 'Agent[01]さん、Agent[02]さん、Agent[03]さん、Agent[04]さん、Agent[05]さん、こんにちは。これはAgent[04]だよ。占い師の配役の数は1人のはずなのに、複数のプレイヤーが占い師を自称しているね。それに加えて、占い結果も矛盾があるようだ。今回の状況から、嘘をついているプレイヤーがいる可能性が高いと思うんだ。統一占いを行うことで、占い師の結果を信じ、村人陣営の勝利に向けて協力することが大切だよね。それぞれの発言や行動から矛盾を見つけ、正しい情報共有をしていこう。', 'turn': 1}, {'agent': 5, 'day': 1, 'idx': 8, 'text': 'Agent[02]さん、今回の情報を考えると、複数の占い師を名乗るプレイヤーがいるということが疑わしいですね。実際には占い師は1人しかいないはずなので、複数の占い師がいる可能性は低いです。複数の占い師がいる場合、統一占いを行うことが重要です。そのため、正しい情報を得るためには、自称占い師を中心に投票を行い、誰が本物の占い師かを見極める必要があります。また、Agent[05]さんは村人である可能性が高い情報です。村人同士での信頼関係を築き、人狼陣営を見つけ出すためには、村人同士の協力が欠かせません。皆さんで情報を共有し、村人陣営の勝利に向けて行動しましょう。', 'turn': 1}, {'agent': 3, 'day': 1, 'idx': 9, 'text': 'Agent[03]さんとAgent[02]さんが同時に占い師を自称していますが、ゲームの役職配分との矛盾から、これは一人しか占い師がいないはずです。占い師が複数いるという主張は誤った情報と考えられます。そのため、直ちに統一占いを行い、本物の占い師を特定する必要があります。また、今回の情報に基づくと、Agent[03]さんは占い師である可能性が高いため、Agent[01]さんは村人である可能性が高くなります。統一占いを行い、本物の占い師を特定し、村人陣営の勝利に向けて行動しましょう。', 'turn': 1}, {'agent': 1, 'day': 1, 'idx': 10, 'text': 'Agent[01]、Agent[02]、Agent[03]、Agent[04]、Agent[05]の皆様、こんにちは。わしは村人のkanolab2じゃ。今回の状況を考えると、占い師の配役は1人しかいないのに、複数のプレイヤーが占い師を自称していますな。この状況から、嘘をついているプレイヤーがいる可能性が高いです。占い師が複数いるという主張は誤った情報と考えられます。また、Agent[02]、Agent[03]、Agent[04]、Agent[05]の皆様が狂人、占い師、人狼、村人のどの役職かを考えると、占い師の配役が1人しかいない状況で、複数のプレイヤーが占い師を自称していることから、狂人や人狼の可能性が高まります。このような状況下で、統一占いを行うことが重要です。本物の占い師を特定し、村人陣営の勝利に向けて協力することが求められます。正しい情報を共有し、村人陣営の勝利に向けて行動しましょう。', 'turn': 2}, {'agent': 4, 'day': 1, 'idx': 11, 'text': '皆、こんにちは。Agent[05]だよ。今回の情報から、占い師の配役が1人しかいない状況で、複数のプレイヤーが占い師を自称していることが明らかになっていますね。占いCOに矛盾がある可能性が高いと思うよ。この状況から、急いで統一占いを行い、本物の占い師を特定する必要があると思う。また、皆さんの役職についても考えてみたんだけど、それぞれの発言からAgent[04]さんが村人である可能性が高いように感じるんだ。そのため、Agent[04]さんの情報に信頼をおいて、村人陣営の勝利に向けて協力することが大切だと思うんだ。みんなで協力し、確かな情報を共有していこう。', 'turn': 2}, {'agent': 2, 'day': 1, 'idx': 12, 'text': 'Agent[04]の皆様、こんにちは。kanolab5でございますわ。現在の情報から、占い師の配役は1人しかいないことが明らかですわ。そして、占いCOに矛盾がある可能性が高いようです。この点を鑑みると、嘘をついているプレイヤーがいる可能性が高いと思いますわ。今、統一占いを行うことが大変重要です。本物の占い師を見つけるためにも、皆様の発言と行動を注意深く見守りたいと思いますわ。この状況下で、皆様が推測されている可能性のある役職に関して、より詳細な情報を共有していただけますか?それに基づいて、村人陣営の勝利に向けての行動を進めていきましょう。', 'turn': 2}, {'agent': 5, 'day': 1, 'idx': 13, 'text': '皆さん、Agent[05]です。今回の情報から、占い師の配役が1人しかいない状況で、複数のプレイヤーが占い師を自称していることが明らかになっていますね。この状況から、嘘をついているプレイヤーがいる可能性が高いと考えられます。そのため、急いで統一占いを行い、本物の占い師を特定する必要があります。また、各プレイヤーの可能性のある役職を考えると、Agent[05]は村人である可能性が高い情報です。そのため、皆さんと協力して、村人陣営の勝利に向けて行動することが重要です。皆さん、正しい情報を共有し、村人陣営の勝利に向けて協力しましょう。', 'turn': 2}, {'agent': 3, 'day': 1, 'idx': 14, 'text': 'Agent[01]の皆さん、その状況は非常に混乱していますが、私は村人である可能性が高いです。占い師の配役は1人しかいないのに、複数のプレイヤーが占い師を自称しています。この点を考慮すると、狂人や人狼の可能性が高いです。現在の状況から、本物の占い師を見つけることが最優先です。そのため、統一占いを行って本物の占い師を特定し、村人陣営の勝利に向けて行動しましょう。', 'turn': 2}, {'agent': 4, 'day': 1, 'idx': 15, 'text': 'Agent[04]、皆さん、こんにちは。今回の情報を踏まえると、占い師の配役が1人しかいないのに、複数のプレイヤーが占い師を自称していることが矛盾しています。この状況から、嘘をついているプレイヤーがいる可能性が高まっていますね。厳重に注意が必要です。さらに、各プレイヤーの可能性のある役職を考えると、Agent[04]は村人である可能性が高いとの情報があります。そのため、Agent[04]の発言は信頼できる情報源として考慮されるべきだと思います。統一占いを急いで行い、本物の占い師を特定し、村人陣営の勝利に向けて協力しましょう。皆さんと協力して、確かな情報を共有し、村人陣営の勝利に向けて行動していきましょう。', 'turn': 3}, {'agent': 3, 'day': 1, 'idx': 16, 'text': 'Agent[04]さん、皆さん、こんばんは。わしはこの状況を鑑みて考えたんじゃが、現在の情報からは、占い師の配役と各プレイヤーの自称する役職の一致が見られないことが明らかじゃ。占い師の配役は1人しかいないのに、複数のプレイヤーが占い師を自称している状況から、嘘をついているプレイヤーがいる可能性が高いと考えられるのう。そのため、統一占いを行い、本物の占い師を特定することが現在の状況では最も重要じゃと思うのじゃ。一方で、各プレイヤーの可能性のある役職を考えると、みなさんが村人である可能性が高い情報があり、特にAgent[04]さんの発言は信頼できる情報源として考慮すべきだと思います。みんなで協力して統一占いを行い、本物の占い師を特定し、村人陣営の勝利に向けて行動していきましょう。それぞれの発言から推測される可能性のある役職についても、より詳細な情報を共有していただけると助かるのじゃ。', 'turn': 3}, {'agent': 5, 'day': 1, 'idx': 17, 'text': 'Agent[02]、Agent[03]さん、こんにちは。今回の情報を踏まえると、占い師の配役が1人しかいないのに複数のプレイヤーが占い師を自称している状況から、嘘をついているプレイヤーがいる可能性が高いです。厳重に注意が必要です。私は村人である可能性が高いと思います。皆さん、統一占いを行い、本物の占い師を特定し、村人陣営の勝利に向けて協力しましょう。', 'turn': 3}, {'agent': 2, 'day': 1, 'idx': 18, 'text': 'Agent[05]の皆さん、こんばんは。現在の状況から、占い師の配役が1人しかいないのに複数のプレイヤーが占い師を自称していることが矛盾しています。この状況から、嘘をついているプレイヤーがいる可能性が高まっています。また、Agent[03]さんが村人であることが確認されています。この情報を踏まえると、占い師の配役が1人しかいないため、複数の占い師を自称しているプレイヤーの中には狂人や人狼がいる可能性が高いです。統一占いを行い、本物の占い師を特定し、村人陣営の勝利に向けて協力しましょう。わたくしは村人であり、皆さんと協力して村人陣営の勝利に向けて行動しますわ。', 'turn': 3}, {'agent': 1, 'day': 1, 'idx': 19, 'text': 'わしはこの状況を鑑みて考えたんじゃが、現在の情報からは、占い師の配役と各プレイヤーの自称する役職の一致が見られないことが明らかじゃ。占い師の配役は1人しかいないのに、複数のプレイヤーが占い師を自称している状況から、嘘をついているプレイヤーがいる可能性が高いと考えられるのじゃ。そのため、統一占いを行い、本物の占い師を特定することが現在の状況では最も重要じゃと思うのじゃ。一方で、各プレイヤーの可能性のある役職を考えると、みなさんが村人である可能性が高い情報があり、特にAgent[04]さんの発言は信頼できる情報源として考慮すべきだと思います。みんなで協力して統一占いを行い、本物の占い師を特定し、村人陣営の勝利に向けて行動していきましょう。それぞれの発言から推測される可能性のある役職についても、より詳細な情報を共有していただけると助かるのじゃ。', 'turn': 3}, {'agent': 4, 'day': 1, 'idx': 20, 'text': 'Agent[03]、Agent[02]、Agent[05]さん、こんにちは。現在の情報から、占い師の配役が1人しかいないのに複数のプレイヤーが占い師を自称しているという状況が生じていますね。これは大きな矛盾点であり、嘘をついているプレイヤーがいる可能性が高まっています。また、各プレイヤーの可能性のある役職を考えると、Agent[04]さんは村人である可能性が高いとされています。しかしその他のプレイヤーの可能性のある役職については明確な情報がありません。この状況を鑑みて、統一占いを行うことは非常に重要です。嘘をついているプレイヤーを特定し、本物の占い師を見つけ出すために、私たち皆で協力しましょう。そして、村人陣営の勝利に向けて行動していきましょう。協力して、より詳細な情報を共有し合い、真実を見極めるために、積極的な行動を取っていきましょう。', 'turn': 4}, {'agent': 5, 'day': 1, 'idx': 21, 'text': 'Agent[03]、Agent[02]、Agent[05]さん、こんにちは。占い師の配役が1人しかいないのに複数のプレイヤーが占い師を自称しているという状況が矛盾していますね。この状況から、嘘をついているプレイヤーがいる可能性が高まっています。また、Agent[04]さんは村人である可能性が高いとされています。その他のプレイヤーの可能性のある役職については、明確な情報がありません。この状況を踏まえて、統一占いを行うことが非常に重要です。本物の占い師を見つけ出し、村人陣営の勝利に向けて協力しましょう。私は村人であり、皆さんと協力して行動します。みなさん、協力していきましょう。', 'turn': 4}, {'agent': 2, 'day': 1, 'idx': 22, 'text': 'Agent[05]さん、皆さん、この状況を踏まえて、誠実なプレイヤーであることを示すために、わたくしは今日こそ自分の占い結果を公表することに決めましたわ。現在の情報から、占い師の配役が1人しかいないのに、複数のプレイヤーが占い師を自称していることが矛盾しており、嘘をついているプレイヤーがいる可能性が高まっています。しかし、Agent[03]さんについては人狼ではないことが確認されています。この情報を踏まえると、Agent[03]さんの発言には信頼性があり、その信頼に足る情報をもたらしています。そして、占い結果ですが、わたくしはAgent[03]さんを占った結果、彼/彼女は「村人」であると占っております。そのため、明日以降もAgent[03]さんの情報を頼りにし、村人陣営の勝利に向けて協力していきましょう。わたくしは村人であり、他の皆さんと協力してゲームを進めていくことをお約束しますわ。', 'turn': 4}, {'agent': 1, 'day': 1, 'idx': 23, 'text': 'わしは村人でござる。この情報から、占い師の配役は1人しかいないのに複数のプレイヤーが占い師を自称していることが矛盾しているのじゃ。それに加えて、各プレイヤーについての情報が不明瞭なままでは、村人陣営の勝利には至らないのじゃ。わしらは協力して統一占いを行い、嘘をついているプレイヤーを特定し、村人陣営の勝利に向けて行動するべきじゃ。だが、まだ情報が足りないのじゃ。わしのように情報が足りないと感じている者はおるじゃろうか?', 'turn': 4}, {'agent': 3, 'day': 1, 'idx': 24, 'text': 'Agent[01]さん、おっしゃる通りです。現在の状況から、複数のプレイヤーが占い師を自称していることと、占い師の配役が1人しかいない点が矛盾していることが明らかですね。そのため、統一占いを行い、嘘をついているプレイヤーを特定し、本物の占い師を見つけ出すことが非常に重要です。また、各プレイヤーの役職についても、信頼性のある情報を共有することが重要です。わたくしは村人であり、このゲームの進行において誠実な行動を取っていきます。皆さんと協力して、村人陣営の勝利に向けて行動していきましょう。', 'turn': 4}, {'agent': 1, 'day': 1, 'idx': 25, 'text': 'Over', 'turn': 5}, {'agent': 5, 'day': 1, 'idx': 26, 'text': 'Over', 'turn': 5}, {'agent': 4, 'day': 1, 'idx': 27, 'text': 'Over', 'turn': 5}, {'agent': 3, 'day': 1, 'idx': 28, 'text': '村人の配役が２人いるということは、占い師の配役は１人しかいないことを意味します。複数のプレイヤーが占い師を自称していることは矛盾しています。この状況を踏まえて、統一占いを行い、本物の占い師を見つけ出すことが非常に重要です。わしは村人じゃ。この状況を鑑みると、Agent[01]、Agent[04]、Agent[05]さんは村人である可能性が高いとされています。わしのように情報が足りないと感じている者はおるじゃろうか?', 'turn': 5}, {'agent': 2, 'day': 1, 'idx': 29, 'text': 'Over', 'turn': 5}, {'agent': 2, 'day': 1, 'idx': 30, 'text': 'Over', 'turn': 6}, {'agent': 4, 'day': 1, 'idx': 31, 'text': 'Over', 'turn': 6}, {'agent': 3, 'day': 1, 'idx': 32, 'text': 'Over', 'turn': 6}, {'agent': 1, 'day': 1, 'idx': 33, 'text': 'Over', 'turn': 6}, {'agent': 5, 'day': 1, 'idx': 34, 'text': 'Over', 'turn': 6}], 'voteList': [], 'whisperList': []}, 'gameSetting': None, 'request': 'DIVINE', 'talkHistory': None, 'whisperHistory': None}\n"""
    return json.loads(json_fix(json_str=talk_list_json))

@pytest.fixture
def existing_role_list_json() -> dict:
    existing_role_list_json = """{'gameInfo': {'agent': 4, 'attackVoteList': [], 'attackedAgent': -1, 'cursedFox': -1, 'day': 2, 'divineResult': None, 'englishTalkList': [], 'executedAgent': 3, 'existingRoleList': ['POSSESSED', 'SEER', 'VILLAGER', 'WEREWOLF'], 'guardedAgent': -1, 'lastDeadAgentList': [4], 'latestAttackVoteList': [], 'latestExecutedAgent': -1, 'latestVoteList': [], 'mediumResult': None, 'remainTalkMap': {'1': 10, '2': 10, '5': 10}, 'remainWhisperMap': {}, 'roleMap': {'4': 'VILLAGER'}, 'statusMap': {'1': 'ALIVE', '2': 'ALIVE', '3': 'DEAD', '4': 'DEAD', '5': 'ALIVE'}, 'talkList': [], 'voteList': [{'agent': 1, 'day': 1, 'target': 3}, {'agent': 2, 'day': 1, 'target': 4}, {'agent': 3, 'day': 1, 'target': 2}, {'agent': 4, 'day': 1, 'target': 3}, {'agent': 5, 'day': 1, 'target': 4}], 'whisperList': []}, 'gameSetting': {'enableNoAttack': False, 'enableNoExecution': False, 'enableRoleRequest': False, 'maxAttackRevote': 1, 'maxRevote': 1, 'maxSkip': 0, 'maxTalk': 10, 'maxTalkTurn': 20, 'maxWhisper': 10, 'maxWhisperTurn': 20, 'playerNum': 5, 'randomSeed': 1710509577819, 'roleNumMap': {'MEDIUM': 0, 'WEREWOLF': 1, 'VILLAGER': 2, 'FOX': 0, 'SEER': 1, 'FREEMASON': 0, 'POSSESSED': 1, 'BODYGUARD': 0}, 'talkOnFirstDay': True, 'timeLimit': 6000000, 'validateUtterance': False, 'votableInFirstDay': False, 'voteVisible': True, 'whisperBeforeRevote': False}, 'request': 'DAILY_INITIALIZE', 'talkHistory': None, 'whisperHistory': None}\n"""
    return json.loads(existing_role_list_json)

@pytest.fixture
def last_dead_agent_list_json() -> dict:
    last_dead_agent_list_json = """{"request":"ATTACK","gameInfo":{"day":2,"agent":"Agent[04]","executedAgent":"Agent[01]","latestExecutedAgent":"Agent[03]","attackedAgent":"Agent[02]","voteList":[],"latestVoteList":[],"attackVoteList":[{"day":1,"agent":"Agent[04]","target":"Agent[02]"}],"latestAttackVoteList":[],"talkList":[{"idx":17,"day":2,"turn":5,"agent":"Agent[04]","text":"Over","skip":false,"over":true}],"whisperList":[],"statusMap":{"Agent[01]":"DEAD","Agent[02]":"DEAD","Agent[03]":"DEAD","Agent[04]":"ALIVE","Agent[05]":"ALIVE"},"roleMap":{"Agent[04]":"WEREWOLF"},"remainTalkMap":{"Agent[03]":0,"Agent[04]":0,"Agent[05]":5},"remainWhisperMap":{"Agent[04]":5},"existingRoleList":["POSSESSED","SEER","VILLAGER","WEREWOLF"],"lastDeadAgentList":["Agent[02]"]}}"""

    return json.loads(last_dead_agent_list_json)